<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>G.E.K. | Temple of the cow</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="http://www.geordy.nl/xmlrpc.php" />
<!--[if lt IE 9]>
<script src="http://www.geordy.nl/wp-content/themes/silver-blue/js/html5.js" type="text/javascript"></script>
<![endif]-->
<link rel="alternate" type="application/rss+xml" title="G.E.K. &raquo; Feed" href="http://www.geordy.nl/feed/" />
<link rel="alternate" type="application/rss+xml" title="G.E.K. &raquo; Comments Feed" href="http://www.geordy.nl/comments/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.geordy.nl\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.2.7"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='silverblue-fonts-css'  href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700&#038;subset=latin,latin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='silverblue-style-css'  href='http://www.geordy.nl/wp-content/themes/silver-blue/style.css?ver=4.2.7' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='silverblue-ie-css'  href='http://www.geordy.nl/wp-content/themes/silver-blue/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='tablepress-default-css'  href='http://www.geordy.nl/wp-content/plugins/tablepress/css/default.min.css?ver=1.6' type='text/css' media='all' />
<link rel='stylesheet' id='sedlex_styles-css'  href='http://www.geordy.nl/wp-content/sedlex/inline_styles/b858b1b33432ddca359b560098ef8168baaa0bf5.css?ver=20160219' type='text/css' media='all' />
<!-- This site uses the Google Analytics by Yoast plugin v5.4.2 - Universal disabled - https://yoast.com/wordpress/plugins/google-analytics/ -->
<script type="text/javascript">

	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-114804-2']);
	_gaq.push(['_gat._forceSSL']);
	_gaq.push(['_trackPageview']);

	(function () {
		var ga = document.createElement('script');
		ga.type = 'text/javascript';
		ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(ga, s);
	})();

</script>
<!-- / Google Analytics by Yoast -->
<script type='text/javascript' src='http://www.geordy.nl/wp-includes/js/jquery/jquery.js?ver=1.11.2'></script>
<script type='text/javascript' src='http://www.geordy.nl/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='https://apis.google.com/js/plusone.js?ver=4.2.7'></script>
<script type='text/javascript' src='http://www.geordy.nl/wp-content/sedlex/inline_scripts/42104cb8986c3fd857d6535d587906a9267cb117.js?ver=20160219'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.geordy.nl/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.geordy.nl/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.2.7" />

 		<!-- by Twitter Follow Me Box v1.1 -->
 		<script type="text/javascript">
 			//<![CDATA[
  			jQuery(document).ready(function(){
    			jQuery("body").append("<div id=\"tfmBox\"></div>");
    			jQuery("#tfmBox").css({'position' : 'fixed', 'top' : '10px', 'width' : '30px', 'height' : '119px', 'z-index' : '1000', 'cursor' : 'pointer', 'background' : '#000000 url(http://www.geordy.nl/wp-content/plugins/twitter-follow-me-box/follow-me.png) no-repeat scroll right top', 'left' : '0'});
    			jQuery("#tfmBox").click(function () { 
			      window.open('http://twitter.com/@gekort/');
    			});
    		});
    		//]]>
  		</script>
		<!-- /by Twitter Follow Me Box -->
 	<link rel="stylesheet" type="text/css" href="http://www.geordy.nl/wp-content/plugins/wp-code-highlight/css/wp-code-highlight.css" media="screen" />
			<link rel="stylesheet" href="http://www.geordy.nl/wp-content/plugins/zedity/css/zedity-reset.css?6.1.3" type="text/css" media="all" />
				<style type="text/css">
			.site-title,
		.site-description {
			position: absolute !important;
			clip: rect(1px 1px 1px 1px); /* IE7 */
			clip: rect(1px, 1px, 1px, 1px);
		}
		</style>
	</head>

<body class="home blog custom-background-empty custom-font-enabled single-author">
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner">
		<div class="site-wrap">
					<a href="http://www.geordy.nl/"><img src="http://www.geordy.nl/wp-content/uploads/2014/04/banner3.png" class="header-image" width="960" height="100" alt="" /></a>
						</div><!-- #logo/text-->

		<nav id="site-navigation" class="main-navigation" role="navigation">
			<h3 class="menu-toggle">Menu</h3>
			<a class="assistive-text" href="#content" title="Skip to content">Skip to content</a>
			<div class="nav-menu"><ul><li class="current_page_item"><a href="http://www.geordy.nl/">Home</a></li><li class="page_item page-item-330"><a href="http://www.geordy.nl/3d-printing/">3D printing</a></li><li class="page_item page-item-254"><a href="http://www.geordy.nl/nsx-2/">NSX</a></li><li class="page_item page-item-256"><a href="http://www.geordy.nl/mikrotik-2/">Mikrotik</a></li><li class="page_item page-item-278"><a href="http://www.geordy.nl/misc/">Misc</a></li></ul></div>
		</nav><!-- #site-navigation -->
	</header><!-- #masthead -->
	
	<div id="main" class="wrapper">
		<div class="site-wrap">
	<div id="primary" class="site-content">
		<div id="content" role="main">
		
										
	<article id="post-341" class="post-341 post type-post status-publish format-standard hentry category-nsx">
				<header class="entry-header">
									<h1 class="entry-title">
				<a href="http://www.geordy.nl/upgrading-nsx-from-the-command-line/" title="Permalink to Upgrading NSX from the Command line" rel="bookmark">Upgrading NSX from the Command line</a>
			</h1>
										<div class="comments-link">
					<a href="http://www.geordy.nl/upgrading-nsx-from-the-command-line/#respond"><span class="leave-reply">Leave a reply</span></a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>Every once in a while a new version of NSX comes out which you need to upgrade to. Last week NSX 6.1.3 was GAed and being the good techie I am I needed(wanted) to upgrade to it. Now I travel a lot and use remove VPN to access my lab at home and that&#8217;s where the problem started.</p>
<p>The upgrade process for NSX is pretty easy as long as you follow procedure and have local access. The process involves in opening a WEB connection to the NSX manager and then clicking on the upgrade button, which then pop-ups a file browser&#8230; Uploading a 2.5 GB file using a VPN connection from a hotel is something I attempted once and generally I decided never to do this again. So I needed another solution, API access!!!!</p>
<h2>Step 1 &#8211; Get the NSX upgrade bundle</h2>
<p>The first thing you need to do is get the NSX upgrade bundle. The problem with this is that you need to use a browser and the damn file is then local which you then have to upload bla bla bla&#8230;  The solution that I have found is by using my local browser to login to my.vmware.com, select the file I need and start the download. Then I copy the Download URL, login to my homelab and wget the file making sure I use the -O option to save the file.</p>
<pre class="wp-code-highlight prettyprint">wget &quot;https://download2.vmware.com/software/NSX-V-610/VMware-NSX-Manager-upgrade-bundle-6.1.3-2591148.tar.gz?&amp;lt;REMOVED&amp;gt;&quot; -O &quot;VMware-NSX-Manager-upgrade-bundle-6.1.3-2591148.tar.gz&quot;
</pre>
<p>This will save the upgrade bundle locally.</p>
<h2>Step 2 &#8211; Upload the NSX upgrade bundle</h2>
<p>The next step is to upload the NSX bundle to the NSX manager and for that we use CURL. Here is the code:</p>
<pre class="wp-code-highlight prettyprint">curl -i -v -k -u admin:&lt;PASSWORD&gt; -H &#039;Accept:application/xml&#039; -F file=@VMware-NSX-Manager-upgrade-bundle-6.1.3-2591148.tar.gz -X POST https://&lt;IP&gt;/api/1.0/appliance-management/upgrade/uploadbundle/NSX -o upload.out
</pre>
<p>This will allow you to upload the bundle from you local site.</p>
<h2>Step 3 &#8211; Check that the NSX bundle is uploaded</h2>
<p>Next is to make sure that the bundle has been uploaded correctly:</p>
<pre class="wp-code-highlight prettyprint">curl -k -u admin:&lt;PASSWORD&gt; -H &quot;Accept:application/xml&quot; -X GET https://&lt;IP&gt;/api/1.0/appliance-management/upgrade/information/NSX
</pre>
<p>This should output the following:</p>
<pre class="wp-code-highlight prettyprint">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;upgradeInformation&gt;
    &lt;fromVersion&gt;6.1.1&lt;/fromVersion&gt;
    &lt;toVersion&gt;6.1.3&lt;/toVersion&gt;
    &lt;upgradeBundleDescription&gt;Upgrade to 6.1.3&lt;/upgradeBundleDescription&gt;
    &lt;preUpgradeQuestionsAnswers&gt;
        &lt;preUpgradeQuestionAnswer&gt;
            &lt;questionId&gt;preUpgradeChecks1:Q1&lt;/questionId&gt;
            &lt;question&gt;Do you want to enable SSH ?&lt;/question&gt;
            &lt;questionAnserType&gt;YESNO&lt;/questionAnserType&gt;
        &lt;/preUpgradeQuestionAnswer&gt;
    &lt;/preUpgradeQuestionsAnswers&gt;
    &lt;upgradeStepsDto&gt;
        &lt;step&gt;
            &lt;stepId&gt;ValidationStep&lt;/stepId&gt;
            &lt;stepLabel&gt;Upgrade Bundle Validation&lt;/stepLabel&gt;
            &lt;description&gt;Upgrade bundle will be validated before the actual upgrade process.&lt;/description&gt;
        &lt;/step&gt;
        &lt;step&gt;
            &lt;stepId&gt;UpgradeStep&lt;/stepId&gt;
            &lt;stepLabel&gt;Upgrade NSX manager&lt;/stepLabel&gt;
            &lt;description&gt;Upgrade process for NSX Manager will begin.&lt;/description&gt;
        &lt;/step&gt;
    &lt;/upgradeStepsDto&gt;
    &lt;warningMessages&gt;Please take a snapshot of the VM before proceeding with the upgrade.&lt;/warningMessages&gt;
&lt;/upgradeInformation&gt;
</pre>
<h2>Step 4 &#8211; Make a backup and snapshot</h2>
<p>Before you upgrade make a backup!!!! how to do this LMGTFY <img src="http://www.geordy.nl/wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="http://www.geordy.nl/category/nsx/" rel="category tag">NSX</a> on <a href="http://www.geordy.nl/upgrading-nsx-from-the-command-line/" title="12:35 pm" rel="bookmark"><time class="entry-date" datetime="2015-03-26T12:35:11+00:00">March 26, 2015</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="http://www.geordy.nl/author/geordy/" title="View all posts by geordy" rel="author">geordy</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
							
	<article id="post-337" class="post-337 post type-post status-publish format-standard hentry category-3d-printing tag-branch tag-marlin tag-master tag-minitronics tag-ok">
				<header class="entry-header">
									<h1 class="entry-title">
				<a href="http://www.geordy.nl/marlin-firmware-send-okokokokokok/" title="Permalink to Marlin firmware send okokokokokok" rel="bookmark">Marlin firmware send okokokokokok</a>
			</h1>
										<div class="comments-link">
					<a href="http://www.geordy.nl/marlin-firmware-send-okokokokokok/#respond"><span class="leave-reply">Leave a reply</span></a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>Living on the edge sometimes is not where you want to be when building a 3D printer.</p>
<p>After upgrading to the latest Master of marlin, every command I would send to marlin would result in an OK message that would repeat itself a gazillion times.</p>
<pre class="wp-code-highlight prettyprint">Connecting...
start
Printer is now online.
echo: External Reset
Marlin1.0.0
echo: Last Updated: Jan  8 2015 15:35:52 | Author: build 004
Compiled: Jan  8 2015
echo: Free Memory: 5184  PlannerBufferBytes: 1232
echo:Hardcoded Default Settings Loaded
echo:Steps per unit:
echo:  M92 X80.00 Y80.00 Z80.00 E836.00
echo:Maximum feedrates (mm/s):
echo:  M203 X500.00 Y500.00 Z500.00 E25.00
echo:Maximum Acceleration (mm/s2):
echo:  M201 X9000 Y9000 Z9000 E10000
echo:Acceleration: S=acceleration, T=retract acceleration
echo:  M204 S3000.00 T3000.00
echo:Advanced variables: S=Min feedrate (mm/s), T=Min travel feedrate (mm/s), B=minimum segment time (ms), X=maximum XY jerk (mm/s),  Z=maximum Z jerk (mm/s),  E=maximum E jerk (mm/s)
echo:  M205 S0.00 T0.00 B20000 X20.00 Z20.00 E5.00
echo:Home offset (mm):
echo:  M206 X0.00 Y0.00 Z0.00
echo:Endstop adjustement (mm):
echo:  M666 X0.00 Y0.00 Z0.00
echo:Delta settings: L=delta_diagonal_rod, R=delta_radius, S=delta_segments_per_second
echo:  M665 L284.00 R126.00 S200.00
echo:PID settings:
echo:   M301 P22.20 I1.08 D114.00
&amp;gt;&amp;gt;&amp;gt;m119
SENDING:M119
okokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokokReporting endstop status</pre>
<p>It seems that a patch was the culprit:</p>
<p>https://github.com/MarlinFirmware/Marlin/issues/1318</p>
<p>Enjoy!</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="http://www.geordy.nl/category/3d-printing/" rel="category tag">3D printing</a> and tagged <a href="http://www.geordy.nl/tag/branch/" rel="tag">branch</a>, <a href="http://www.geordy.nl/tag/marlin/" rel="tag">marlin</a>, <a href="http://www.geordy.nl/tag/master/" rel="tag">master</a>, <a href="http://www.geordy.nl/tag/minitronics/" rel="tag">minitronics</a>, <a href="http://www.geordy.nl/tag/ok/" rel="tag">ok</a> on <a href="http://www.geordy.nl/marlin-firmware-send-okokokokokok/" title="12:07 pm" rel="bookmark"><time class="entry-date" datetime="2015-01-09T12:07:53+00:00">January 9, 2015</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="http://www.geordy.nl/author/geordy/" title="View all posts by geordy" rel="author">geordy</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
							
	<article id="post-333" class="post-333 post type-post status-publish format-standard hentry category-3d-printing tag-delta tag-endstop tag-m119 tag-marlin tag-max_endstop tag-minitronics tag-rostock">
				<header class="entry-header">
									<h1 class="entry-title">
				<a href="http://www.geordy.nl/rostock-delta-printer-minitronics-and-max-endstop/" title="Permalink to Rostock delta printer, Minitronics and MAX ENDSTOP" rel="bookmark">Rostock delta printer, Minitronics and MAX ENDSTOP</a>
			</h1>
										<div class="comments-link">
					<a href="http://www.geordy.nl/rostock-delta-printer-minitronics-and-max-endstop/#respond"><span class="leave-reply">Leave a reply</span></a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>Welcome!!! You have arrived here most probably because you are in the process of building a Roctock Delta or something that looks like it and might be having the following issues:</p>
<ol>
<li>When you type M119 (to check your endstops) it shows NOTHING</li>
<li>You&#8217;re an idiot like me and pressed the Home Button on your 3d HOST and your delta decided to go thru the roof.</li>
</ol>
<p>After a whole bunch of looking at code and debugging I figured out that the pins.h file that is included in the Marlin code basically has the MAX ENDSTOPS disabled.  To fix this edit the pins.h file and jump to the section of the MINITRONICS (around line 2712) and update the following:</p>
<p><strong>Change</strong><br />
#define X_MIN_PIN -1<br />
#define X_MAX_PIN 5 //2 //Max endstops default to disabled &#8220;-1&#8243;, set to commented value to enable.<br />
<strong>to</strong><br />
#define X_MIN_PIN 5<br />
#define X_MAX_PIN -1 //2 //Max endstops default to disabled &#8220;-1&#8243;, set to commented value to enable.</p>
<p><strong>Change</strong><br />
#define Y_MIN_PIN -1<br />
#define Y_MAX_PIN 2 //15<br />
<strong>to</strong><br />
#define Y_MIN_PIN 2<br />
#define Y_MAX_PIN -1 //15</p>
<p><strong>Change</strong><br />
#define Z_MIN_PIN -1<br />
#define Z_MAX_PIN 6<br />
<strong>to</strong><br />
#define Z_MIN_PIN 6<br />
#define Z_MAX_PIN -1</p>
<p>What this does is basically switch off the MIN ENDSTOP, which is not used on a delta and assigns the pins on the MINITRONICS to the MAX ENDSTOP.</p>
<p>Happy building!</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="http://www.geordy.nl/category/3d-printing/" rel="category tag">3D printing</a> and tagged <a href="http://www.geordy.nl/tag/delta/" rel="tag">delta</a>, <a href="http://www.geordy.nl/tag/endstop/" rel="tag">endstop</a>, <a href="http://www.geordy.nl/tag/m119/" rel="tag">M119</a>, <a href="http://www.geordy.nl/tag/marlin/" rel="tag">marlin</a>, <a href="http://www.geordy.nl/tag/max_endstop/" rel="tag">MAX_ENDSTOP</a>, <a href="http://www.geordy.nl/tag/minitronics/" rel="tag">minitronics</a>, <a href="http://www.geordy.nl/tag/rostock/" rel="tag">rostock</a> on <a href="http://www.geordy.nl/rostock-delta-printer-minitronics-and-max-endstop/" title="9:55 am" rel="bookmark"><time class="entry-date" datetime="2015-01-09T09:55:09+00:00">January 9, 2015</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="http://www.geordy.nl/author/geordy/" title="View all posts by geordy" rel="author">geordy</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
							
	<article id="post-328" class="post-328 post type-post status-publish format-standard hentry category-3d-printing">
				<header class="entry-header">
									<h1 class="entry-title">
				<a href="http://www.geordy.nl/updating-qu-bd-hotend-with-12v-40w-heater-cartridge/" title="Permalink to Updating QU-BD hotend with 12V 40W heater cartridge" rel="bookmark">Updating QU-BD hotend with 12V 40W heater cartridge</a>
			</h1>
										<div class="comments-link">
					<a href="http://www.geordy.nl/updating-qu-bd-hotend-with-12v-40w-heater-cartridge/#respond"><span class="leave-reply">Leave a reply</span></a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>Way back, a long long time ago, I bought a QU-BD extruder thinking 40 bucks would be worth it. Well after about 3 weeks of printing the damn thing kept failing. Upgrade the drive gear, printed some thingiverse stuff and all was fine again, until this week when the resistor would not take me to 180C which I needed for PLA.</p>
<p>So I decided to replace the Resistor with a 40W 12V ceramic cartridge that I purchased from <a href="http://www.miniinthebox.com/12v-40w-ceramic-cartridge-heater-for-reprap-3d-printer_p824487.html" onclick="_gaq.push(['_trackEvent', 'outbound-article', 'http://www.miniinthebox.com/12v-40w-ceramic-cartridge-heater-for-reprap-3d-printer_p824487.html', 'MiniInTheBox.com']);" target="_blank">MiniInTheBox.com</a>. So after drilling out the resistor and expanding the hole to accommodate the new cartridge it was time to fire it up.</p>
<p>So first off let me warn you that when you turn this thing on for the first it, it will SMOKE and smell like crap. But this did not deter me. After the smoke died down it was time to get it to 180C and low and behold it jumped to 180C then past it to 195C, then back down to 165C, then back up to 195C&#8230;  It was giving me a sinus.  Right so next was PID autotune:</p>
<pre class="wp-code-highlight prettyprint">M303 S180</pre>
<p>The value that was given back was uploaded in the firmware, and time to test it again&#8230;  Hmmm not good still a very very big Sinus and no stability what so ever.  So I jumped online and found a site that pointed to me to the correct start settings:</p>
<pre class="wp-code-highlight prettyprint">#define  DEFAULT_Kp 45.0
#define  DEFAULT_Ki 4.2
#define  DEFAULT_Kd 120</pre>
<div>Again upload and testing, now the sinus was still there but it was smaller. Then I realized something very important.  I had drilled out the Brass block and therefore removed a lot of the material normally needed for heat, and with that had failed to re-insulate the head!  I wiped out a roll of Kanton tape and insulated the head with a lot of tape. Results&#8230;  It now kept a nice 180C with a drift of 1C top and bottom.</div>
<div></div>
<div>Next is M303 again to see if I can get it even more stable&#8230;</div>
<div></div>
<div>MOTTO OF THE STORY: Even-though most people on the Internet say that you should not have to insulate your head, not doing so is really not going to get your head temp stable.</div>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="http://www.geordy.nl/category/3d-printing/" rel="category tag">3D printing</a> on <a href="http://www.geordy.nl/updating-qu-bd-hotend-with-12v-40w-heater-cartridge/" title="3:53 pm" rel="bookmark"><time class="entry-date" datetime="2014-12-30T15:53:03+00:00">December 30, 2014</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="http://www.geordy.nl/author/geordy/" title="View all posts by geordy" rel="author">geordy</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
			
					<nav id="nav-below" class="navigation" role="navigation">
			<h3 class="assistive-text">Post navigation</h3>
			<div class="nav-previous alignleft"><a href="http://www.geordy.nl/page/2/" ><span class="meta-nav">&larr;</span> Older posts</a></div>
			<div class="nav-next alignright"></div>
		</nav><!-- #nav-below .navigation -->
	
		
		</div><!-- #content -->
	</div><!-- #primary -->


			<div id="secondary" class="widget-area" role="complementary">
			<aside id="text-3" class="widget widget_text"><h3 class="widget-title">Sponsors</h3>			<div class="textwidget"><script type="text/javascript"><!--
google_ad_client = "ca-pub-8499799195472779";
/* geordy.nl */
google_ad_slot = "4862868629";
google_ad_width = 200;
google_ad_height = 200;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
		</aside><aside id="search-2" class="widget widget_search"><form role="search" method="get" id="searchform" class="searchform" action="http://www.geordy.nl/">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s" />
					<input type="submit" id="searchsubmit" value="Search" />
				</div>
			</form></aside>		</div><!-- #secondary -->
		<!--WP Code Highlight_start-->
	<script type="text/javascript">
		window.onload = function(){prettyPrint();};
	</script>
	<script type="text/javascript" src="http://www.geordy.nl/wp-content/plugins/wp-code-highlight/js/wp-code-highlight.js"></script>
	<!--WP Code Highlight_end-->
		</div><!-- #main wrap -->
	</div><!-- #main .wrapper -->
	<div class="footer">
		<footer id="colophon" role="contentinfo">
			<div class="site-foot">
				<div class="site-info">
					Designed by Alappin 2013 & Some icons from http://icons8.com/<P>
					These blogs are my OWN opinion and do my employers.
				</div><!-- .site-info -->
			</div>
		</footer><!-- #colophon -->
	</div>
</div><!-- #page -->

<script type='text/javascript' src='http://www.geordy.nl/wp-content/themes/silver-blue/js/navigation.js?ver=1.0'></script>
			<script type="text/javascript">
				(function zedityResponsive(){var old_resize = window.onresize||function(){};window.onresize=(function resize(){
				old_resize.apply(this,arguments);var e=document.querySelectorAll('.zedity-editor.zedity-responsive');for(var i=e.length-1;i>=0;--i){var pw=e[i].parentNode.offsetWidth;var origW=e[i].getAttribute('data-origw');var origH=e[i].getAttribute('data-origh');var ph,s;if(origH && origW>pw){var r=pw/origW;s='scale('+r+')';ph=origH*r+'px';}else{ph=s='';}e[i].style.webkitTransform=e[i].style.MozTransform=e[i].style.msTransform=e[i].style.OTransform=e[i].style.transform=s;e[i].parentNode.style.height=ph;}
								e=document.querySelectorAll('.zedity-responsive > iframe');for(var i=e.length-1;i>=0;--i){var pw=e[i].parentNode.offsetWidth;var ow=e[i].parentNode.getAttribute('data-origw');var oh=e[i].parentNode.getAttribute('data-origh');if(oh&&ow&&pw<ow){e[i].style.width=pw+'px';e[i].style.height=Math.round(oh*pw/ow)+'px';}}
								return resize;})();})();
			</script>
			<script type="text/javascript" src="http://www.geordy.nl/wp-content/plugins/zedity/zedity/zedity-responsive.min.js?6.1.3"></script>
			</body>
</html>
